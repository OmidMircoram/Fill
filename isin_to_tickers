#%%
import yfinance as yf
import time

for isin in alla_fonder:
    try:
        stock = yf.Ticker(isin)
        info = stock.info
        ticker = info.get("symbol", None)
        
        # Ensure "översikt" exists

        alla_fonder[isin]["översikt"]["ticker"] = ticker
        # print(f"{isin} → {ticker}")
        
        # time.sleep(0.5)  # slight delay to avoid rate limits
    except Exception as e:
        print(f"Failed for {isin}: {e}")
        alla_fonder[isin]["översikt"]["ticker"] = None
